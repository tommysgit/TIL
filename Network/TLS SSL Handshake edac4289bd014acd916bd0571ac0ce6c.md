# TLS/SSL Handshake

Https에서 클라이언트와 서버와 통신 전 SSL인증서를 통해 서버의 신뢰성을 검증하는 작업

## 진행 순서

<img src= "https://user-images.githubusercontent.com/34904741/139517776-f2cac636-5ce5-4815-981d-33905283bf13.png"/>
1. 클라이언트가 서버에 요청을 보낸다. 이 단계를 Client Hello라고 한다. 이 과정에서 아래와 같은 정보들을 주고 받는다.
    - 클라이언트가 생성한 랜덤 데이터
    - 클라이언트가 지원하는 암호화 방식
    - 세션 ID
2. 서버는 클라이언트의 응답으로 Server Hello를 한다. 이 과정에서 아래와 같은 정보들을 주고 받는다.
    - 서버가 생성한 랜덤 데이터
    - 서버가 선택한 클라이언트의 암호화 방식
    - 인증서
3. 클라이언트는 인증서가 신뢰할만한 것인지 확인하고 클라이언트와 서버의 랜덤 데이터를 이용하여 대칭키를 발급한다. 인증서를 검증하는 과정은 [여기](https://github.com/tommysgit/TIL/blob/ff13bd4ac5cf1bc0f6fe3248cd219372fc8f12fa/Network/Http%20&%20Https%20af050f567b374f3ebc8b29ce010604e2.md)를 확인하면 된다.
4. 클라이언트는 생성한 대칭키를 서버의 공개키를 이용하여 암호화하여 서버에게 보낸다.
5. 서버는 클라이언트의 대칭키를 획득한다.
6. 이렇게 얻은 대칭키로 클라이언트와 서버는 암호화, 복호화를 하여 통신한다. (SSL Handshake 종료)